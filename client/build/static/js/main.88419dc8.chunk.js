(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(t,e,n){},42:function(t,e,n){},66:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var i=n(2),c=n.n(i),r=n(18),a=n.n(r),o=n(8),u=(n(41),n(3)),s=(n(42),n(14)),l=n(11),j=n(4),d=n(6),b=n(12),f=n.n(b),O=n(5),h=function(t,e){var n=Object(s.a)(t);return n.sort((function(t,n){var i=t.name.toUpperCase(),c=n.name.toUpperCase();return i<c?-1*e:i>c?1*e:0})),n},p={continent:function(t,e){return t.filter((function(t){return t.continent===e}))},activityId:function(t,e){return t.filter((function(t){return t.activities.map((function(t){return t.id})).includes(Number.parseInt(e))}))},population:function(t,e){return t.sort((function(t,n){return e*(t.population-n.population)}))},name:h},x=(n(66),n(1));function m(){var t=Object(O.c)((function(t){return t.countriesList})),e={name:"",duration:"",difficulty:"",season:"",countriesId:[]},n=Object(i.useState)(e),c=Object(d.a)(n,2),r=c[0],a=c[1],u=Object(i.useState)({}),b=Object(d.a)(u,2),p=b[0],m=b[1],v=Object(i.useState)(!0),y=Object(d.a)(v,2),g=y[0],C=y[1],I=function(t){var e={};return t.name||(e.name="Activity name is required"),(Number.parseInt(t.duration)<15||Number.parseInt(t.duration)>240)&&(e.duration="Duration is invalid"),t.difficulty||(e.difficulty="Difficulty is required"),t.season||(e.season="Season is invalid"),t.countriesId.length||(e.countriesId="No countries selected"),e},E=function(t){var e=I(t);for(var n in e)return!0;return!1},F=function(t){var e={};a((function(n){return e=Object(j.a)(Object(j.a)({},n),{},Object(l.a)({},t.target.name,t.target.value))})),m((function(n){return Object(j.a)(Object(j.a)({},n),{},Object(l.a)({},t.target.name,I(e)[t.target.name]))})),C((function(){return E(e)}))};return Object(x.jsx)("div",{id:"activity-form-wrap",children:Object(x.jsxs)("form",{action:"",id:"activity-form",children:[Object(x.jsx)("h2",{children:"Create an Activity"}),Object(x.jsxs)("section",{children:[Object(x.jsxs)("div",{className:"field-set",children:[Object(x.jsx)("label",{htmlFor:"name",children:"Activity name:"}),Object(x.jsx)("input",{onChange:function(t){return F(t)},type:"text",name:"name",id:"name",value:r.name,required:!0},"name-imput"),Object(x.jsx)("label",{htmlFor:"name",className:p.name?"warning":"hidden",children:p.name})]}),Object(x.jsxs)("div",{className:"field-set",children:[Object(x.jsx)("label",{htmlFor:"minutes",children:"Activity duration:"}),Object(x.jsx)("input",{onChange:function(t){return F(t)},type:"number",placeholder:"duracion debe ser de 15 a 240 minutos",name:"duration",id:"minutes",value:r.duration,required:!0},"durantion-inpu"),Object(x.jsx)("label",{htmlFor:"minutes",className:p.duration?"warning":"hidden",children:p.duration})]}),Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"How difficult is:"}),Object(x.jsxs)("div",{children:[[1,2,3,4,5].map((function(t){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",{onChange:function(t){return F(t)},type:"radio",id:"difficulty ".concat(t),name:"difficulty",value:t},"difficulty ".concat(t)),Object(x.jsx)("label",{htmlFor:"difficulty ".concat(t),children:t})]})})),Object(x.jsx)("label",{className:p.difficulty?"warning":"hidden",children:p.difficulty})]})]}),Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Choose the season in which take place:"}),Object(x.jsx)("div",{children:["Winter","Spring","Summer","Autumn"].map((function(t,e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",{onChange:function(t){return F(t)},type:"radio",id:"season".concat(e+1),name:"season",value:t},"season".concat(e+1)),Object(x.jsx)("label",{htmlFor:"season".concat(e+1),children:t})]})}))})]})]}),Object(x.jsxs)("section",{children:[Object(x.jsx)("div",{className:"field-set",children:Object(x.jsxs)("select",{onChange:function(t){return function(t){a((function(e){return e.countriesId.indexOf(t.target.value)>=0?Object(j.a)({},e):Object(j.a)(Object(j.a)({},e),{},{countriesId:[].concat(Object(s.a)(e.countriesId),[t.target.value])})}))}(t)},name:"country",id:"country",children:[Object(x.jsx)("option",{value:"",children:"--Please choose one or more countries--"},"c-0"),h(t,1).map((function(t){return Object(x.jsx)("option",{value:t.id,children:t.name},"country-".concat(t.id))}))]})}),Object(x.jsx)("div",{className:"field-set",children:r.countriesId.map((function(e){return Object(x.jsxs)("span",{onClick:function(t){return function(t){a((function(e){return Object(j.a)(Object(j.a)({},e),{},{countriesId:e.countriesId.filter((function(e){return e!==t.target.dataset.value}))})}))}(t)},className:"selected-countries",name:e,"data-value":e,children:[t.find((function(t){return t.id===Number.parseInt(e)})).name," ","X"]},e)}))})]}),Object(x.jsxs)("section",{children:[Object(x.jsxs)("p",{children:[Object(x.jsx)("button",{type:"reset",onClick:function(){a(e),C((function(){return E(e)}))},children:"Reset"}),Object(x.jsx)("button",{onClick:function(){f.a.post("http://localhost:3001/activity",r).then((function(t){return t.data})).then((function(t){return console.log(t)}))},type:"button",disabled:g,children:"Create"})]}),Object(x.jsx)(o.b,{to:"../countries",children:"Go Back"})]})]})})}var v="/countries",y="FILTERED",g="RESET_PAGINATION",C="FORWARD_PAGE",I="GOBACK_PAGE",E="GET_COUNTRIES",F="RECIVED_COUNTRIES",S="RECIVED_DETAIL";function N(){return{type:E}}function _(t){return{type:y,payload:t}}function A(t){var e=t?"".concat(v,"?name=").concat(t):v;return function(t){t(N()),t(w()),f.a.get(e).then((function(t){return t.data})).then((function(e){var n=e.rows||[],i=e.msg||"";t(function(t,e){return{type:F,payload:{countries:t,message:e}}}(n,i))})).catch((function(t){return console.log(t)}))}}function w(){return{type:g}}function T(t){var e="".concat(v,"/").concat(t);return function(t){t(N()),f.a.get(e).then((function(t){return t.data})).then((function(e){return t({type:S,payload:e})})).catch((function(t){return console.log(t)}))}}function L(t){var e=t.name,n=t.difficulty,i=t.durationTime,c=t.season;return Object(x.jsxs)("div",{id:"activity-detail-wrap",children:[Object(x.jsx)("h2",{children:e}),Object(x.jsxs)("h3",{children:["To do in: ",c]}),Object(x.jsxs)("h4",{children:["Difficulty: ",n]}),Object(x.jsxs)("h4",{children:["Duration: ",i]})]})}n(68);function D(t){var e=t.country,n=t.activities,i=Object(O.c)((function(t){return t.isLoading}));return Object(x.jsx)("div",{id:"country-detail-wrap",children:i?Object(x.jsx)("h2",{children:"Loading"}):Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsxs)("div",{id:"country-detail-center",children:[Object(x.jsx)("img",{src:e.flagURI,alt:"flag of the country"}),Object(x.jsxs)("h2",{children:[e.name," - ",e.countryId]}),Object(x.jsxs)("h3",{children:[" ",e.continent," "]}),Object(x.jsxs)("h3",{children:["Capital: ",e.capital," "]}),Object(x.jsxs)("h3",{children:["Subregion: ",e.subregion," "]}),Object(x.jsxs)("h3",{children:["Area: ",e.areaKm2," "]}),Object(x.jsxs)("h3",{children:["Population: ",e.population," "]})]}),Object(x.jsx)("div",{id:"activity-detail-center",children:n&&n.length>0?n.map((function(t){return Object(x.jsx)(L,{name:t.name,difficulty:t.difficulty,durationTime:t.durationTime,season:t.season})})):Object(x.jsx)("h3",{children:"No activities availables yet..."})}),Object(x.jsx)(o.b,{to:"../countries",children:"Go Back"})]})})}var R=n(34),P=n(33);n(69);function k(t){var e=Object(O.b)(),n=Object(i.useState)(""),c=Object(d.a)(n,2),r=c[0],a=c[1];return Object(x.jsx)("div",{id:"search-wrap",children:Object(x.jsxs)("form",{id:"#search-form",action:"submit",onSubmit:function(t){return t.preventDefault(),void e(A(r))},children:[Object(x.jsx)("input",{id:"search_country_name",name:"name",type:"search",placeholder:"search countries by name..",value:r,onChange:function(t){return e=t,void a((function(){return e.target.value}));var e}})," ",Object(x.jsxs)("button",{type:"submit",children:[r?Object(x.jsx)(P.a,{onClick:function(){a((function(){return""})),e(A())}}):"",Object(x.jsx)("span",{children:"|"})," ",Object(x.jsx)(R.a,{})," "]})]})})}n(70);function U(){var t=Object(O.b)();return Object(x.jsx)("div",{id:"navbar-wrap",children:Object(x.jsxs)("div",{id:"navbar-center",children:[Object(x.jsx)(o.b,{to:"/countries",onClick:function(){t(A())},id:"navbar-title",children:"Henry Countries"}),Object(x.jsx)(k,{}),Object(x.jsx)(o.b,{to:"/add_activity",onClick:function(){t(A())},children:"Add Activity"})]})})}n(71);function G(){var t=Object(O.b)(),e=Object(u.g)().countryId,n=Object(O.c)((function(t){return t.countryDetail}));return Object(i.useEffect)((function(){return t(T(e))}),[]),Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)(U,{}),Object(x.jsx)(D,{country:n,activities:n.activities})]})}n(72);function B(t){var e=t.countryId,n=t.flagURI,i=t.name,c=t.continent;return Object(x.jsx)("div",{id:"country-wrap",children:Object(x.jsxs)(o.b,{to:"".concat(e),id:e,children:[Object(x.jsx)("img",{src:n,alt:"flag of the country"}),Object(x.jsx)("h2",{children:i}),Object(x.jsx)("h3",{children:c})]})})}n(73);function H(t){var e=t.countries,n=Object(O.b)(),i=Object(O.c)((function(t){return t.pagination}));return Object(x.jsxs)("div",{id:"pagination-wrap",children:[i.start>0?Object(x.jsx)("span",{onClick:function(){n({type:I})},children:"Previous"}):Object(x.jsx)("span",{className:"disabled",children:"Nathing here"}),i.end>=e.length?Object(x.jsx)("span",{className:"disabled",children:"Nathing here"}):Object(x.jsx)("span",{onClick:function(){n({type:C})},children:"Next"})]})}n(74);function K(t){var e=t.countries,n=t.message,i=Object(O.c)((function(t){return t.isLoading})),c=Object(O.c)((function(t){return t.pagination}));return Object(x.jsxs)("div",{id:"countries-display-wrap",children:[Object(x.jsxs)("div",{id:"countries-display-center",children:[console.log("Countries Display MESSAGE: ".concat(n)),i?Object(x.jsx)("h2",{children:"Loading"}):n?Object(x.jsx)("h2",{children:n}):e.slice(c.start,c.end).map((function(t){return Object(x.jsx)(B,{countryId:t.id,name:t.name,continent:t.continent,flagURI:t.flagURI},t.countryId)}))]}),Object(x.jsx)(H,{countries:e})]})}var W=n(19);n(75);function q(t){var e=t.title,n=t.filter,i=t.options,c=t.applyFilter,r=(t.filterOn,t.turnOffFilter);return Object(x.jsx)("div",{className:"filter-wrap",children:Object(x.jsxs)("select",{onChange:function(t){return function(t){n.value=t.target.value,c(n)}(t)},name:"selec_".concat(n.type),id:"selec_".concat(n.type),children:[Object(x.jsx)("option",{value:"",onClick:function(){return r(n)},children:e}),i.map((function(t){return Object(x.jsx)("option",{value:t.id,children:t.name},t.id)}))]})})}n(76);function V(t){var e=t.countries,n=t.applyFilter,c=t.turnOffFilter,r=t.filters,a=Object(i.useState)((function(){return[]})),o=Object(d.a)(a,2),u=o[0],s=o[1],l=Object(i.useState)((function(){return[]})),j=Object(d.a)(l,2),b=j[0],f=j[1];return Object(i.useEffect)((function(){s((function(){return M(e)})),f((function(){return X(e)}))}),[e]),Object(x.jsx)("div",{id:"filter-display-wrap",children:Object(x.jsxs)("div",{id:"filter-display-center",children:[Object(x.jsx)(q,{title:"--Filter by continent--",filter:{type:"continent"},options:u.map((function(t){return{id:t,name:t}})),applyFilter:n,filterOn:r.continent,turnOffFilter:c}),Object(x.jsx)(q,{title:"--filter by activities--",filter:{type:"activityId"},options:b,applyFilter:n,filterOn:r.activityId,turnOffFilter:c}),Object(x.jsx)(q,{title:"--order by country name--",filter:{type:"name"},options:J(),applyFilter:n,filterOn:r.name,turnOffFilter:c}),Object(x.jsx)(q,{title:"--order by population--",filter:{type:"population"},options:J(),applyFilter:n,filterOn:r.population,turnOffFilter:c})]})})}var M=function(t){return t.reduce((function(t,e){return t.indexOf(e.continent)<0&&t.push(e.continent),t}),[])},X=function(t){return t.reduce((function(t,e){var n,i=Object(W.a)(e.activities);try{for(i.s();!(n=i.n()).done;){var c=n.value;t.map((function(t){return t.id})).indexOf(c.id)<0&&t.push({id:c.id,name:c.name})}}catch(r){i.e(r)}finally{i.f()}return t}),[])},J=function(){return[{id:1,name:"up"},{id:-1,name:"down"}]};function z(){var t=Object(O.b)(),e=Object(O.c)((function(t){return t.message})),n=Object(O.c)((function(t){return t.countriesList})),r=Object(O.c)((function(t){return t.filteredCountries})),a=Object(O.c)((function(t){return t.filtersApplied})),o=Object(i.useState)([]),u=Object(d.a)(o,2),s=u[0],b=u[1],f=Object(i.useState)([]),h=Object(d.a)(f,2),p=h[0],m=h[1];Object(i.useEffect)((function(){t(A()),m((function(){return a}))}),[]),Object(i.useEffect)((function(){m((function(){return a})),b((function(){return Q(a)?(t(w()),t(_(a)),r):n}))}),[n]),Object(i.useEffect)((function(){m((function(){return a})),b((function(){return a?r:n}))}),[r]);return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)(U,{}),Object(x.jsx)(V,{countries:s,filters:p,applyFilter:function(e){var n=Object(j.a)(Object(j.a)({},p),{},Object(l.a)({},e.type,e.value));t(w()),t(_(n))},turnOffFilter:function(e){var n=Object(j.a)(Object(j.a)({},p),{},Object(l.a)({},e.type,!1));t(w()),t(_(n))}}),Object(x.jsx)(K,{countries:s,message:e})]})}var Q=function(t){var e=!1;return Object.keys(t).forEach((function(n){return e=e||t[n]})),e};n(77);function Y(){return Object(x.jsx)("div",{id:"landing-page-wrap",children:Object(x.jsxs)("div",{id:"landing-page-center",children:[Object(x.jsx)("h1",{id:"landing-page-title",children:"Henry Countries"}),Object(x.jsx)(o.b,{to:"countries",children:"Let's travel"})]})})}var Z=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{path:"/",element:Object(x.jsx)(Y,{})}),Object(x.jsx)(u.a,{path:"/countries/",element:Object(x.jsx)(z,{})}),Object(x.jsx)(u.a,{path:"/countries/:countryId",element:Object(x.jsx)(G,{})}),Object(x.jsx)(u.a,{path:"/add_activity",element:Object(x.jsx)(m,{})})]})})},$=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),i(t),c(t),r(t),a(t)}))},tt=n(20),et=function(t,e){var n=Object(s.a)(t);return e=e||{},Object.keys(e).forEach((function(t){e[t]&&(n=p[t](n,e[t]))})),n},nt=10,it={countriesList:[],filteredCountries:[],filtersApplied:{continent:!1,activityId:!1,population:!1,name:!1},message:"",countryDetail:{},isLoading:!1,pagination:{start:0,end:9,hasNext:!0,hasPrev:!1}};var ct=n(35),rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||tt.b,at=Object(tt.c)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case E:return Object(j.a)(Object(j.a)({},t),{},{isLoading:!0});case F:return Object(j.a)(Object(j.a)({},t),{},{isLoading:!1,countriesList:e.payload.countries,message:e.payload.message});case S:return Object(j.a)(Object(j.a)({},t),{},{isLoading:!1,countryDetail:e.payload});case y:return Object(j.a)(Object(j.a)({},t),{},{filteredCountries:et(t.countriesList,e.payload),filtersApplied:e.payload});case g:return Object(j.a)(Object(j.a)({},t),{},{pagination:{start:0,end:9,hasNext:!0,hasPrev:!1}});case C:return Object(j.a)(Object(j.a)({},t),{},{pagination:Object(j.a)(Object(j.a)({},t.pagination),{},{start:t.pagination.end,end:t.pagination.end+nt})});case I:return Object(j.a)(Object(j.a)({},t),{},{pagination:Object(j.a)(Object(j.a)({},t.pagination),{},{start:t.pagination.start-nt>=0?t.pagination.start-nt:0,end:t.pagination.start})});default:return Object(j.a)({},t)}}),rt(Object(tt.a)(ct.a))),ot=n(36);n.n(ot).a.config(),f.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API||"http://localhost:3001",a.a.render(Object(x.jsx)(O.a,{store:at,children:Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(o.a,{children:Object(x.jsx)(Z,{})})})}),document.getElementById("root")),$()}},[[81,1,2]]]);
//# sourceMappingURL=main.88419dc8.chunk.js.map